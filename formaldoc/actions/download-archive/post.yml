---
name: |-
  POST /actions/s3/ - action "download-archive"

url: |-
  /actions/s3/

services:
- method: |-
    POST

  description: |-
    Allows downloading all objects starting with prefix as a zip archive

  input_schema: |-
    {
    }

  output_schema: |-
    .

  error_schema: |-
    Error

  preconditions:
      - (test background) The bucket contains objects

  postconditions:
    - Prefix object has been created

  examples:

    - description: |-
        when requested without prefix
      headers:
        content-type: application/vnd.seshat-action+json
        seshat-action: download-archive
      expected:
        status: 200
        content_type: application/zip
